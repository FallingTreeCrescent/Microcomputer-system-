CODE	SEGMENT
		ASSUME	CS:CODE
START:	MOV	DX,0646H
		MOV	AL,90H
		OUT	DX,AL
A:		MOV	DX,0640H
		IN	AL,DX
		CMP	AL,0FFH
		JZ	EXIT
		AND	AL,03H
		CMP	AL,0H
		JNZ	B
		MOV	AL,00H
		JMP	OUTPUT
B:		CMP	AL,1H
		JNZ	C
		MOV	AL,0FH
		JMP	OUTPUT
C:		CMP	AL,2H
		JNZ	D
		MOV	AL,0F0H
		JMP	OUTPUT
D:		MOV	AL,0FFH
OUTPUT:	MOV DX,0642H
		OUT	DX,AL
		JMP	A
EXIT:	MOV	DX,0642H
		MOV	AL,0H
		OUT	DX,AL
		MOV	AH,4CH
		INT 21H
CODE	ENDS
		END	START